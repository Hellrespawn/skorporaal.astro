---
import ColumnLayout from "@layouts/ColumnLayout.astro";
import Feed from "@components/Feed/Feed.svelte";
import About from "@components/About/About.astro";
import { FeedItem } from "@scripts/feed/feedItem";
import { type Frontmatter } from "@scripts/post";

const instances = await Astro.glob<Frontmatter>("../content/**/*.md");

const feedItems = instances.map((instance) => new FeedItem(instance));
---

<ColumnLayout title="Home">
  <Fragment slot="left">
    <About />
  </Fragment>
  <Fragment slot="right">
    <Feed client:load feedItems={feedItems} />
  </Fragment>
</ColumnLayout>
